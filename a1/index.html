<!DOCTYPE html>
<html>

<head>
    <title>Personal Details</title>
    <link rel="stylesheet" type="text/css" href="./index.css">

</head>

<body class="body">
    <div class="main glass">
        <h1 class="title font">Personal Details</h1>
        <form class="personal-details-form" id="personal-details-form">
            <div class="fName">


                <label class="font" for="first-name  ">First Name:</label>
                <input class="input" placeholder="John" type="text" id="first-name" name="first-name" required>
            </div>
            <div class="fName">
                <label class="font" for="last-name  ">Last Name:</label>
                <input class="input" placeholder="Doe" type="text" id="last-name" name="last-name" required>
            </div>
            <div class="">
                <label class="font">Gender:</label>
                <input style="margin-left: 7rem;" type="radio" id="male" name="gender" value="male" required>
                <label class="font" for="male">Male</label>
                <input class=" " type="radio" id="female" name="gender" value="female" required>
                <label class="font" for="female">Female</label>
            </div>
            <div class="address fName">

                <label class="font" for="address">Address:</label>
                <textarea class="input" style="width: 65%;" id="address" rows="2" name="address" required></textarea>
            </div>

            <div class="fName">
                <label class="font" for="country">Country:</label>
                <select class=" input" id="country" name="country" required>
                    <option value="">Select Country</option>
                    <option value="india">India</option>
                    <option value="usa">USA</option>
                    <option value="uk">UK</option>
                    <option value="australia">Australia</option>
                    <option value="canada">Canada</option>
                </select>
            </div>
            <div class="fName">

                <label class="font" for="state">State:</label>
                <select class="input" id="state" name="state" required>
                    <option value="">Select State</option>
                    <option value="andhra-pradesh">Andhra Pradesh</option>
                    <option value="arunachal-pradesh">Arunachal Pradesh</option>
                    <option value="assam">Assam</option>
                    <option value="bihar">Bihar</option>
                    <option value="chhattisgarh">Chhattisgarh</option>
                    <option value="goa">Goa</option>
                    <option value="gujarat">Gujarat</option>
                    <option value="haryana">Haryana</option>
                    <option value="himachal-pradesh">Himachal Pradesh</option>
                    <option value="jammu-kashmir">Jammu and Kashmir</option>
                    <option value="jharkhand">Jharkhand</option>
                    <option value="karnataka">Karnataka</option>
                    <option value="kerala">Kerala</option>
                    <option value="madhya-pradesh">Madhya Pradesh</option>
                    <option value="maharashtra">Maharashtra</option>
                    <option value="manipur">Manipur</option>
                    <option value="meghalaya">Meghalaya</option>
                    <option value="mizoram">Mizoram</option>
                    <option value="nagaland">Nagaland</option>
                    <option value="odisha">Odisha</option>
                    <option value="punjab">Punjab</option>
                    <option value="rajasthan">Rajasthan</option>
                    <option value="sikkim">Sikkim</option>
                    <option value="tamil-nadu">Tamil Nadu</option>
                    <option value="telangana">Telangana</option>
                    <option value="tripura">Tripura</option>
                    <option value="uttar-pradesh">Uttar Pradesh</option>
                    <option value="uttarakhand">Uttarakhand</option>
                    <option value="west-bengal">West Bengal</option>
                </select>
            </div>

            <div class="fName">
                <label class="font" for="city">City:</label>
                <input class="input" style="width:65%;" type="text" id="city" name="city" required>
            </div>
            <div class="fName">
                <label class="font" for="pincode">Pincode:</label>
                <input class="input" maxlength="6" type="number" id="pincode" name="pincode" pattern="[0-9]{6}"
                    required>
            </div>
            <div class="fName">

                <label class="font" for="employment-status">Employment Status:</label>
                <select class="input" id="employment-status" name="employment-status" required>
                    <option value="">Select Employment Status</option>
                    <option value="employed">Employed</option>
                    <option value="unemployed">Unemployed</option>
                    <option value="self-employed">Self-Employed</option>
                    <option value="freelancer">Freelancer</option>
                    <option value="student">Student</option>
                </select>
            </div>
            <div class="fName">

                <label class="font" for="marital-status">Marital Status:</label>
                <select class="input" id="marital-status" name="marital-status" required>
                    <option value="">Select Marital Status</option>
                    <option value="single">Single</option>
                    <option value="married">Married</option>
                    <option value="divorced">Divorced</option>
                    <option value="widowed">Widowed</option>
                </select>
            </div>
            </select>
            <div class="btn ">
                <button class="submit-btn" type="submit" value="Submit" />Submit </button>
            </div>
        </form>
    </div>
    <div class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <p>The content is save</p>
        </div>
    </div>

    <h2 style="font-size: 35px;" class="font">Entered Details:</h2>
    <table class="table glass" id="details-table">
        <thead>
            <tr class="font">
                <th>First Name</th>
                <th>Last Name</th>
                <th>Gender</th>
                <th>Address</th>
                <th>Country</th>
                <th>State</th>
                <th>City</th>
                <th>Pincode</th>
                <th>Employment Status</th>
                <th>Marital Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody class="tbody font">
        </tbody>
    </table>
    <button style=" margin-bottom: 10rem;" class="edit-btn" id="openModal">Save</button>

    <script>
        function addRow()
        {
            var table = document.getElementById("details-table");
            var row = table.insertRow();

            var firstName = document.getElementById("first-name").value;
            var lastName = document.getElementById("last-name").value;
            var gender = document.querySelector('input[name="gender"]:checked').value;
            var address = document.getElementById("address").value;
            var country = document.getElementById("country").value;
            var state = document.getElementById("state").value;
            var city = document.getElementById("city").value;
            var pincode = document.getElementById("pincode").value;
            var employmentStatus = document.getElementById("employment-status").value;
            var maritalStatus = document.getElementById("marital-status").value;

            var cell1 = row.insertCell();
            cell1.innerHTML = firstName;

            var cell2 = row.insertCell();
            cell2.innerHTML = lastName;

            var cell3 = row.insertCell();
            cell3.innerHTML = gender;

            var cell4 = row.insertCell();
            cell4.innerHTML = address;

            var cell5 = row.insertCell();
            cell5.innerHTML = country;

            var cell6 = row.insertCell();
            cell6.innerHTML = state;

            var cell7 = row.insertCell();
            cell7.innerHTML = city;

            var cell8 = row.insertCell();
            cell8.innerHTML = pincode;

            var cell9 = row.insertCell();
            cell9.innerHTML = employmentStatus;

            var cell10 = row.insertCell();
            cell10.innerHTML = maritalStatus;

            var cell11 = row.insertCell();
            cell11.innerHTML = '<button class="edit-btn" id="openModal" onClick="editRow(this)">Edit</button> <button id="deleterow" class="delete-btn" onclick="deleteRow(this)">Delete</button>';

            document.getElementById("personal-details-form").reset();
        }


        function editRow(button)
        {
            var row = button.parentNode.parentNode;
            var cells = row.getElementsByTagName("td");

            var firstName = cells[0].innerHTML;
            var lastName = cells[1].innerHTML;
            var gender = cells[2].innerHTML;
            var address = cells[3].innerHTML;
            var country = cells[4].innerHTML;
            var state = cells[5].innerHTML;
            var city = cells[6].innerHTML;
            var pincode = cells[7].innerHTML;
            var employmentStatus = cells[8].innerHTML;
            var maritalStatus = cells[9].innerHTML;

            document.getElementById("first-name").value = firstName;
            document.getElementById("last-name").value = lastName;
            document.querySelector('input[name="gender"][value="' + gender + '"]').checked = true;
            document.getElementById("address").value = address;
            document.getElementById("country").value = country;
            document.getElementById("state").value = state;
            document.getElementById("city").value = city;
            document.getElementById("pincode").value = pincode;
            document.getElementById("employment-status").value = employmentStatus;
            document.getElementById("marital-status").value = maritalStatus;

            row.parentNode.removeChild(row);
        }



        function deleteRow(button)
        {
            var row = button.parentNode.parentNode;
            row.parentNode.removeChild(row);
            deleterow();
        }
        document.getElementById("personal-details-form").addEventListener("submit", function (event)
        {
            event.preventDefault();
            addRow();
        });
        
        const openModalButton = document.getElementById('openModal');
        const modal = document.querySelector('.modal');
        const closeButton = document.querySelector('.close');

        openModalButton.addEventListener('click', () =>
        {
            modal.style.display = 'block';
        });

        closeButton.addEventListener('click', () =>
        {
            modal.style.display = 'none';
        });

    </script>
</body>

</html>